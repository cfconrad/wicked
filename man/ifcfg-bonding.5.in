.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "IFCFG\-BONDING" "5" "May 6, 2024" "Wicked User Manual" ""
.SH NAME
ifcfg\-bonding \- Bonding interface configuration
.SH SYNOPSIS
\f[CR]/etc/sysconfig/network/ifcfg\-*\f[R]
.SH Bonding Interfaces
To setup a bonding interface you need a configuration file ifcfg\-bond
with the usual network settings.
But you must add additional variables
.TP
\f[CR]BONDING_MASTER\f[R]
Must be set to `yes' to identify this interface as a bonding interface.
.TP
\f[CR]BONDING_SLAVE_<X>\f[R]
Here you specify the interface name representing the slave network
interfaces.
Note also: Bonding slave interfaces are reserved for the bonding and are
not usable for any another purposes (unlike e.g.\ interfaces used for
VLANs) and the bonding master manages the slaves itself, e.g.\ it sets
the MAC address on the slaves by default.
To configure this accordingly, set BOOTPROTO=none in the ifcfg file of
each slave interfaces to avoid any IP or link\-layer setup on these
interfaces.
Wicked will apply the link settings (e.g.\ for fail_over_mode=active) at
enslave time.
.TP
\f[CR]BONDING_MODULE_OPTS\f[R]
Contains bonding options.
Here you can set interface timeouts or working modes
(`mode=active\-backup' for backup mode).
For additional information take a look into the documentation mentioned
at the bottom.
Note, that this options are not passed as parameters to the bonding
kernel module any more, but set via sysfs interface.
This variable will be renamed in the feature.
.SH EXAMPLE
Example for a bonding interface on eth0 and eth1 using the backup mode
.PP
\f[I]ifcfg\-bond0\f[R]
.IP
.EX
STARTMODE=\[aq]onboot\[aq]
BOOTPROTO=\[aq]static\[aq]
IPADDR=\[aq]192.168.0.1/24\[aq]
BONDING_MASTER=\[aq]yes\[aq]
BONDING_SLAVE_0=\[aq]eth0\[aq]
BONDING_SLAVE_1=\[aq]eth1\[aq]
BONDING_MODULE_OPTS=\[aq]mode=active\-backup miimon=100\[aq]
.EE
.PP
\f[I]ifcfg\-eth0\f[R]
.IP
.EX
STARTMODE=\[aq]hotplug\[aq]
BOOTPROTO=\[aq]none\[aq]
#ETHTOOL_OPTIONS=\[aq]wol g\[aq]
.EE
.PP
\f[I]ifcfg\-eth1\f[R]
.IP
.EX
STARTMODE=\[aq]hotplug\[aq]
BOOTPROTO=\[aq]none\[aq]
#ETHTOOL_OPTIONS=\[aq]wol g\[aq]
.EE
.PP
\f[B]Note\f[R], that the slaves are configured with BOOTPROTO=`none',
what avoids link set UP and IP configuration of the slaves.
Further also \f[CR]STARTMODE=\[aq]hotplug\[aq]\f[R], allowing that some
(all) of the slaves are allowed to be missed at boot time.
The hotplug slaves will be added to the bond as soon as are become
available (udev BUS based persistent name rule or manual ifup bond0 is
required).
Wicked waits for the slaves, but when there is no slave available at
bonding start time (boot time), the bonding creation will fail and also
wicked will report an error.
.SH Additional Information
For additional and more general information take a look into
http://www.linuxfoundation.org/collaborate/workgroups/networking/bonding
or /usr/src/linux/Documentation/networking/bonding.txt.
Maybe you need to install the kernel sources to get this additional
documentation.
.PP
The configuration of routes for this kind of interface does not differ
from ordinary interfaces.
See \f[CR]man routes\f[R] for details.
.SH COPYRIGHT
Copyright (C) 2014\-2024 SUSE LLC
.SH BUGS
Please report bugs at \c
.UR http://bugs.opensuse.org
.UE \c
.SH SEE ALSO
\f[B]\f[CB]routes\f[B]\f[R] (5), \f[B]\f[CB]ifcfg\f[B]\f[R] (5),
\f[B]\f[CB]wicked\f[B]\f[R] (8)
.SH AUTHORS
Wilken Gottwalt \[en] original bonding man page.
